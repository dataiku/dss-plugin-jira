{
    "meta": {
        "label": "Jira Service Desk recipe",
        "description": "Retrieve Jira Service Desk data based on IDs contained in the input dataset",
        "icon": "icon-ticket"
    },
    "kind": "PYTHON",
    "inputRoles": [
        {
            "name": "input_A_role",
            "label": "Dataset containing IDs",
            "description": "",
            "arity": "UNARY",
            "required": true,
            "acceptsDataset": true
        }
    ],

    "outputRoles": [
        {
            "name": "jira_output",
            "label": "main output displayed name",
            "description": "what main output means",
            "arity": "UNARY",
            "required": true,
            "acceptsDataset": true
        }
    ],
    "params": [
        {
            "name": "access_type",
            "label": "Access type. Reviewer: hidden menu to keep for future extension",
            "visibilityCondition": "false",
            "type": "SELECT",
            "defaultValue": "token_access",
            "selectChoices": [
                {
                    "value": "token_access",
                    "label": "Token"
                }
            ]
        },
        {
            "name": "token_access",
            "label": "Token API access",
            "type": "PRESET",
            "parameterSetId": "basic-auth",
            "visibilityCondition": "model.access_type == 'token_access'"
        },
        {
            "name": "edge_name",
            "label": "Item type",
            "type": "SELECT",
            "defaultValue": "organization",
            "selectChoices": [
                {
                    "value": "organization",
                    "label": "Organizations"
                },
                {
                    "value": "organization/user",
                    "label": "Organizations users"
                },
                {
                    "value": "servicedesk/organization",
                    "label": "Organizations per service desk"
                },
                {
                    "value": "request",
                    "label": "Customer requests"
                },
                {
                    "value": "servicedesk/customer",
                    "label": "Service desk's customers"
                },
                {
                    "value": "servicedesk/queue",
                    "label": "Service desk's queue"
                },
                {
                    "value": "servicedesk/queue/issue",
                    "label": "Service desk's issues per queue"
                }
            ]
        },
        {
            "name": "id_column_name",
            "label": "ID's column name",
            "type": "STRING",
            "description": "Name of the column containing the organization IDs to process",
            "defaultValue": "organizationId",
            "mandatory": true,
            "visibilityCondition": "model.edge_name.startsWith('organization')"
        },
        {
            "name": "id_column_name",
            "label": "ID's column name",
            "type": "STRING",
            "description": "Name of the column containing the service desk IDs to process",
            "defaultValue": "servicedeskId",
            "mandatory": true,
            "visibilityCondition": "model.edge_name.startsWith('servicedesk')"
        },
        {
            "name": "id_column_name",
            "label": "ID's column name",
            "type": "STRING",
            "description": "Name of the column containing the issue IDs or keys to process",
            "defaultValue": "issueKey",
            "mandatory": true,
            "visibilityCondition": "model.edge_name.startsWith('request')"
        },
        {
            "name": "id_column_name_2",
            "label": "Queue ID's column name",
            "type": "STRING",
            "description": "Name of the column containing the queue IDs to process",
            "defaultValue": "queueId",
            "mandatory": true,
            "visibilityCondition": "model.edge_name == 'servicedesk/queue/issue'"
        }
    ],
    "resourceKeys": []
}
